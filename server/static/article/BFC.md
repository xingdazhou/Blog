# 块级格式化上下文

### 全称：Block Formatting Context,简称 BFC







**主要表达的是：它是一块独立渲染的区域，它规定了在该区域中，常规流块盒的布局**

### 常规流块盒的特点：

- 常规流块盒在水平方向上，必须撑满包含块 ，总宽度（margin,padding,border,content）加起来刚好等于包含块宽度
- 常规流块盒在包含块的垂直方向上依次摆放
- 常规流块盒若外边距无缝相邻（中间不隔border，padding等），则进行外边距合并
  - margin-top合并：
  - margin-bottom合并：

- 常规流块盒的高度自动或位置的摆放时，会无视浮动元素和定位元素

### 块级格式化上下文是一块独立的渲染区域（BFC渲染区域）

用于常规流块盒的布局

BFC渲染区域

这个区域由某个HTML元素创建，以下元素会在其  **内部** 创建BFC区域：

- 根元素  意味着html元素创建的BFC区域，覆盖了网页的所有元素
- 浮动元素和定位元素
- overflow不等于visible的块盒

![image-20200601112706052](../assets/image-20200601112706052.png)

### 独立的

- 不同的BFC区域，他们进行渲染时互不干扰
- 创建BFC的元素，**隔绝了他内部和外部的 联系**，内部的渲染不会影响到外部
- **创建了BFC的元素，他的边框盒不会与浮动元素重叠**
  - 常规流元素的排列看不见（忽视）浮动元素
  - 列如下面的兄弟元素
  - <img src="../assets/image-20200601174456885.png" alt="image-20200601174456885"  />
  - ![image-20200601174809449](../assets/image-20200601174809449.png)
  - 当常规流元素内部创建了BFC，如加了```overflow:hidden```，就会避开浮动元素排列
  - ![image-20200601174906375](../assets/image-20200601174906375.png)
  - 典型的左边固定，右边自适应布局，右边元素其实是设置了margin-left,且相对的是包含块的左边缘，要修改这两个元素之间的margin,可通过左边红块的margin-right来实现
- 创建BFC的元素，不会和他的子元素进行外边距的合并，（或则说处在不同BFC中的元素，他们的外边距不会合并），这个解决了父子元素margin-top合并的问题

### 具体规则

- 创建了BFC的元素，他本身的高度需要计算内部**浮动元素**的高度，（这里只强调是浮动元素）
  - 创建BFC方式，```overflow:hidden```,```position:absolute```,```float:left```等。最小副作用是```overflow:hiden，auto```
  - 

以前解决内部元素浮动后，外部父元素的高度坍塌问题

![image-20200601113149422](../assets/image-20200601113149422.png)

![image-20200601113228348](../assets/image-20200601113228348.png)

现在也可以用```overflow:hidden```来创建BFC来清除浮动，但是如果目的就是清除浮动的话，最好还是用```clear:both```,因为它就是专门干这个的。

![image-20200601182426663](../assets/image-20200601182426663.png)

