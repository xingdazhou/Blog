# 堆叠上下文

堆叠上下文（stack context ）， 它是一块区域，这块区域由某个元素创建，它规定了该区域中的内容在Z轴上的排列的先后顺序。（z-index）

### 创建堆叠上下文的元素

1. html元素（根元素）
1. 设置了z-index数值**（非auto）**的 **定位元素**

### 同一个堆叠上下文中元素在z轴的排列

从后到前（z轴上从后到前的先后排列顺序）的排列顺序：

1. 创建堆叠上下文的元素的背景和边框
1. 堆叠级别(z-index, stack level)为负值的堆叠上下文
1. 常规流非定位的块盒
1. 非定位的浮动盒子
1. 常规流非定位行盒
1. 任何 z-index 是 auto 的定位子元素，以及 z-index 是 0 的堆叠上下文
1. 堆叠级别为正值的堆叠上下文

#### 每个堆叠上下文，独立于其他堆叠上下文，它们之间不能相互穿插。一个堆叠上下文就是一个整体

**这个可以把页面当做一面墙，类比刷墙过程：**

先刷背景层，在刷z-index为负数的定位盒子，在刷常规流块盒，在刷浮动盒子，在刷常规流定位行盒，在刷z-index为auto（默认），或者z-index为0的定位元素，最后在刷z-index为正数的定位元素